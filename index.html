<!DOCTYPE html>
<html>
<head>
	<script src="jquery-ui-1.11.2/external/jquery/jquery.js"></script>
	<script src="jquery-ui-1.11.2/jquery-ui.js"></script>
	<link href="jquery-ui-1.11.2/jquery-ui.css" rel="stylesheet">
	<style>
		html, body {
			height:100%;
		}

		#filterAccordion > div {
			padding:15px;
		}

		#filters, results {
			padding:0px;
		}
	</style>
</head>
<body>
	<table id="PageLayout" style="width:100%; height:100%;">
		<tr height="15%" style="background-color:#f00;">
			<td width="300px">
				<h1>Yelp</h1>
			</td>
			<td>
				Search: <input style="width:300px;" type="text">
			</td>
		</tr>
		<tr height="85%">
			<td width="300px" style="background-color:#0f0;">
				<div id="tabs" style="height:100%;">
					<ul>
						<li><a href="#filters">Filters</a></li>
						<li><a href="#results">Results</a></li>
					</ul>
					<div id="filters">
						<div id="filterAccordion">
							<h3>Cost</h3>
							<div id="costPanel"></div>
							<h3>Cuisine</h3>
							<div id="cuisinePanel"></div>
							<h3>Location</h3>
							<div>some location stuff</div>
							<h3>Ratings</h3>
							<div>some rating stuff</div>
							<h3>Features</h3>
							<div>some features stuff</div>
						</div>
					</div>
					<div id="results">Big list of results</div>
				</div>
			</td>
			<td style="background-color:#00f;">
				<div>
					
				</div>
			</td>
		</tr>
	</table>

	<script>
		$("#tabs").tabs();
		$("#filterAccordion").accordion({
			collapsible: true,
			heightStyle: "content"
		});
		makeCostWidget()
		makeCuisineWidget()

		function makeWidgetLabel(panel, label){
			$("#" + panel).append('<div style="margin:0px 0px 10px 0px">' + label + ':</div>')
		}

		function makeCostWidget(){
			makeWidgetLabel("costPanel", "Price Range")

			// Make the div which will hold the min max labels and the slider
			widgetDiv = $("#costPanel").append("<div></div>")
			widgetDiv.append('<div id="sliderMin" style="position:relative; top:-5px; float:left; width:10px;">0</div>')
			widgetDiv.append('<div class="slider" style="position:relative; margin: 0px 5px 0px 10px; width:210px; float:left;"></div>')
			widgetDiv.append('<div id="sliderMax" style="position:relative; top:-5px; float:left; width:10px;">10</div>')
				
			$(".slider").slider({
				max: 30,
				min: 5,
				range: true,
				step: 5,
				values: [5, 20],
				slide: function(event, ui){
					$("#sliderMin").text(ui.values[0])
					$("#sliderMax").text(ui.values[1])
				}
			});
		}

		function makeCuisineWidget(){
			makeWidgetLabel("cuisinePanel", "Cuisine Preference")

			$("#cuisinePanel").append("<select style='width:100%; margin: 0px 0px 10px 0px'><option>type A</option><option>type B</option><option>type C</option></select>")
			$("#cuisinePanel").append("<button type='button' style='width:100%;'>Add another cuisine type</button>")
			$('#cuisinePanel > button').click(function(){
				$(this).before("<select style='width:100%; margin: 0px 0px 10px 0px'><option>type A</option><option>type B</option><option>type C</option></select>")
			})
		}
	</script>

</body>
</html>